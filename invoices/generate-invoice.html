<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Invoice from CMS Data</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .generator {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        textarea {
            min-height: 100px;
            resize: vertical;
        }
        button {
            background: #ffd166;
            color: #2c3e50;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        button:hover {
            background: #ffb800;
        }
        .btn-secondary {
            background: #3498db;
            color: white;
        }
        .btn-secondary:hover {
            background: #2980b9;
        }
        .instructions {
            background: #e8f4f8;
            border-left: 3px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="instructions">
        <h3>ðŸ“‹ How to Use</h3>
        <ol>
            <li>Fill in the invoice details below</li>
            <li>Click "Generate Invoice" to create a new invoice</li>
            <li>The invoice will open in a new tab</li>
            <li>Print or save as PDF from there</li>
        </ol>
        <p><strong>Tip:</strong> You can copy data from the CMS and paste it here to quickly generate invoices.</p>
    </div>

    <div class="generator">
        <h1>ðŸ§¾ Invoice Generator</h1>
        
        <div class="form-group">
            <label>Invoice Number</label>
            <input type="text" id="invoiceNumber" value="MZK-2025-001" placeholder="MZK-2025-001">
        </div>

        <div class="form-group">
            <label>Client Business Name</label>
            <input type="text" id="clientBusiness" placeholder="Arendse Bouers">
        </div>

        <div class="form-group">
            <label>Client Contact Person</label>
            <input type="text" id="clientContact" placeholder="John Arendse">
        </div>

        <div class="form-group">
            <label>Client Email</label>
            <input type="email" id="clientEmail" placeholder="john@arendsebouers.co.za">
        </div>

        <div class="form-group">
            <label>Client Phone</label>
            <input type="text" id="clientPhone" placeholder="+27 82 123 4567">
        </div>

        <div class="form-group">
            <label>Client Address</label>
            <textarea id="clientAddress" placeholder="123 Main Street, Cape Town, 8001"></textarea>
        </div>

        <div class="form-group">
            <label>Invoice Date</label>
            <input type="date" id="invoiceDate">
        </div>

        <div class="form-group">
            <label>Due Date</label>
            <input type="date" id="dueDate">
        </div>

        <div class="form-group">
            <label>Status</label>
            <select id="status">
                <option value="draft">Draft</option>
                <option value="sent" selected>Sent</option>
                <option value="paid">Paid</option>
                <option value="overdue">Overdue</option>
            </select>
        </div>

        <div class="form-group">
            <label>Description / Line Items</label>
            <textarea id="description" placeholder="Website Development - Professional Package&#10;5-page responsive website with contact form..."></textarea>
        </div>

        <div class="form-group">
            <label>Total Amount (R)</label>
            <input type="number" id="amount" step="0.01" placeholder="10750.00">
        </div>

        <div class="form-group">
            <label>Notes (Optional)</label>
            <textarea id="notes" placeholder="This invoice includes a complimentary 6-month support period..."></textarea>
        </div>

        <button onclick="generateInvoice()">ðŸ§¾ Generate Invoice</button>
        <button class="btn-secondary" onclick="loadFromCMS()">ðŸ“¥ Load from CMS</button>
    </div>

    <script>
        // Set today's date as default
        document.getElementById('invoiceDate').valueAsDate = new Date();
        const dueDate = new Date();
        dueDate.setDate(dueDate.getDate() + 14);
        document.getElementById('dueDate').valueAsDate = dueDate;

        function generateInvoice() {
            const data = {
                invoiceNumber: document.getElementById('invoiceNumber').value,
                clientBusiness: document.getElementById('clientBusiness').value,
                clientContact: document.getElementById('clientContact').value,
                clientEmail: document.getElementById('clientEmail').value,
                clientPhone: document.getElementById('clientPhone').value,
                clientAddress: document.getElementById('clientAddress').value,
                invoiceDate: new Date(document.getElementById('invoiceDate').value).toLocaleDateString('en-ZA', { day: 'numeric', month: 'long', year: 'numeric' }),
                dueDate: new Date(document.getElementById('dueDate').value).toLocaleDateString('en-ZA', { day: 'numeric', month: 'long', year: 'numeric' }),
                status: document.getElementById('status').value,
                description: document.getElementById('description').value,
                amount: parseFloat(document.getElementById('amount').value).toLocaleString('en-ZA', { minimumFractionDigits: 2 }),
                notes: document.getElementById('notes').value
            };

            // Store data in localStorage
            localStorage.setItem('invoiceData', JSON.stringify(data));

            // Open invoice template in new tab
            window.open('mezokuru-invoice-template.html', '_blank');
        }

        function loadFromCMS() {
            alert('To load from CMS:\n\n1. Go to /admin/ and open an invoice\n2. Copy the data\n3. Paste it into the fields here\n\nOr manually enter the data from your CMS invoice.');
        }
    </script>
</body>
</html>
